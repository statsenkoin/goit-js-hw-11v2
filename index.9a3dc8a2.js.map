{"mappings":"AAAA,MAAMA,EAAkBC,SAASC,cAAc,yBACzCC,EAAqBF,SAASC,cAAc,2BAK3C,SAASE,IACd,OAAOJ,EAAgBK,K,CAGlB,SAASC,IACd,OAAOH,EAAmBI,O,CAR5BP,EAAgBQ,iBAAiB,SAAUJ,GAC3CD,EAAmBK,iBAAiB,SAAUF,GCJ9C,MAGMG,EAAS,IAAIC,gBAAgB,CACjCC,IAJc,qCAKdC,WAAY,QACZC,YAAa,aACbC,YAAY,IAUCC,eAAAC,EAA4BC,EAAOC,EAAMC,GACtD,IACE,MAAMC,QAAiBC,MACrB,8BAAiBJ,UAAcC,cAAiBC,KAAWV,KAE7D,aAAaW,EAASE,M,CACtB,MAAOC,GACP,OAAOC,QAAQC,IAAI,aAAcF,E,ECxBrC,MAAMG,EAAYzB,SAASC,cAAc,mBAE1B,SAAAyB,EAAuBT,EAAMU,EAAOC,GACjD,IAAIC,EAAO,SAASZ,KAAQU,oBAAwBC,IACpDH,EAAUK,YAAcD,C,CCJ1B,MAAME,EAAU/B,SAASC,cAAc,eAExB,SAAA+B,EAAuBC,GACpC,IAAIC,EAASD,EAAKE,QAChB,CACEC,GACAC,aAAEA,EAAYC,cAAEA,EAAaC,KAAEA,EAAIC,MAAEA,EAAKC,MAAEA,EAAKC,SAAEA,EAAQC,UAAEA,KAErDP,EAAO,4CACJE,qEAGAD,uBACAE,2EAOb,IAEFR,EAAQa,mBAAmB,YAAaV,E,CClB3BpB,eAAA+B,EAA4BC,EAAW7B,EAAMC,GAC1D,IACE,MAAMe,QAAalB,EAAa+B,EAAW7B,EAAMC,IAC3C6B,KAAEA,EAAInB,MAAEA,GAAUK,EAGxBP,EAAcT,EAFA+B,KAAKC,KAAKrB,EAAQV,GAELU,GAC3BI,EAAce,E,CACd,MACAxB,QAAQC,IAAI,aAAcF,M,ECVXtB,SAASC,cAAc,gBAC/BM,iBAAiB,UAQ5BO,eAA4BoC,GAC1BA,EAAMC,iBACNC,EAAUjD,IACVkD,EAAiBhD,IACjBiD,EAAYJ,EAAMK,cAAcC,SAASC,YAAYrD,MAAMsD,aAErDb,EAAaS,EAAWK,EAAMP,GACpCO,GAAQ,C,IAbV,IAAIL,EAAY,GACZK,EAAO,EAEPP,EAAU,GACVC,GAAiB","sources":["src/js/set-search-options.js","src/js/fetch-pixabay.js","src/js/update-img-info.js","src/js/markup-gallery.js","src/js/create-markup.js","src/index.js"],"sourcesContent":["const perPageSelector = document.querySelector('.js-per-page-selector');\nconst paginationCheckbox = document.querySelector('.js-checkbox-pagination');\n\nperPageSelector.addEventListener('change', getImagePerPage);\npaginationCheckbox.addEventListener('change', setInfinityLoad);\n\nexport function getImagePerPage() {\n  return perPageSelector.value;\n}\n\nexport function setInfinityLoad() {\n  return paginationCheckbox.checked;\n}\n","const API_KEY = '32468715-2ee7d1cef437ed65ce73ff92a';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nconst params = new URLSearchParams({\n  key: API_KEY,\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n});\n\n/**\n *\n * @param {String} query - userInput\n * @param {Number} page - requested page\n * @param {Number} perPage - number of requested objects\n * @returns array of objects or error message\n */\nexport default async function fetchPixabay(query, page, perPage) {\n  try {\n    const responce = await fetch(\n      `${BASE_URL}?q=${query}&page=${page}&per_page=${perPage}&${params}`\n    );\n    return await responce.json();\n  } catch (error) {\n    return console.log('error :>> ', error);\n  }\n}\n\n// export default function fetchPixabay(query, page, perPage) {\n//   return fetch(\n//     `${BASE_URL}?q=${query}&page=${page}&per_page=${perPage}&${params}`\n//   )\n//     .then(responce => {\n//       if (!responce.ok) {\n//         throw new Error(responce.status);\n//       }\n//       return responce.json();\n//     })\n//     .catch(error => console.log('error :>> ', error));\n// }\n","const imageInfo = document.querySelector('.js-images-info');\n\nexport default function updateImgInfo(page, pages, total) {\n  let info = `Page: ${page}/${pages}. Total images: ${total}`;\n  imageInfo.textContent = info;\n}\n","const gallery = document.querySelector('.js-gallery');\n\nexport default function markupGallery(data) {\n  let markup = data.reduce(\n    (\n      acc,\n      { webformatURL, largeImageURL, tags, likes, views, comments, downloads }\n    ) => {\n      return (acc += `<div class=\"photo-card\">\n      <a href=\"${largeImageURL}\">\n        <img \n          class=\"card-image\" \n          src=\"${webformatURL}\" \n          alt=\"${tags}\" \n          loading=\"lazy\"\n        />\n      </a>\n    </div>\n    `);\n    },\n    ``\n  );\n  gallery.insertAdjacentHTML('beforeend', markup);\n}\n","import fetchPixabay from './fetch-pixabay';\nimport updateImgInfo from './update-img-info';\nimport markupGallery from './markup-gallery';\n\nexport default async function createMarkup(userInput, page, perPage) {\n  try {\n    const data = await fetchPixabay(userInput, page, perPage);\n    const { hits, total } = data;\n    const pages = Math.ceil(total / perPage);\n\n    updateImgInfo(page, pages, total);\n    markupGallery(hits);\n  } catch {\n    console.log('error :>> ', error);\n  }\n}\n","import { getImagePerPage, setInfinityLoad } from './js/set-search-options';\nimport createMarkup from './js/create-markup';\n\nconst searchForm = document.querySelector('#search-form');\nsearchForm.addEventListener('submit', onFormSubmit);\n\nlet userInput = '';\nlet page = 1;\n// let pages = 1;\nlet perPage = 24;\nlet isInfinityLoad = false;\n\nasync function onFormSubmit(event) {\n  event.preventDefault();\n  perPage = getImagePerPage();\n  isInfinityLoad = setInfinityLoad();\n  userInput = event.currentTarget.elements.searchQuery.value.trim();\n\n  await createMarkup(userInput, page, perPage);\n  page += 1;\n}\n"],"names":["$1b23d5a488958f95$var$perPageSelector","document","querySelector","$1b23d5a488958f95$var$paginationCheckbox","$1b23d5a488958f95$export$7251faeb105a6802","value","$1b23d5a488958f95$export$aed5bc12bbf0d9fa","checked","addEventListener","$dbc96ee058a4a6d7$var$params","URLSearchParams","key","image_type","orientation","safesearch","async","$dbc96ee058a4a6d7$export$2e2bcd8739ae039","query","page","perPage","responce","fetch","json","error","console","log","$b73d1dc69cf83bdc$var$imageInfo","$b73d1dc69cf83bdc$export$2e2bcd8739ae039","pages","total","info","textContent","$29ccc077861b16e9$var$gallery","$29ccc077861b16e9$export$2e2bcd8739ae039","data","markup","reduce","acc","webformatURL","largeImageURL","tags","likes","views","comments","downloads","insertAdjacentHTML","$e91f9a2c1ec35283$export$2e2bcd8739ae039","userInput","hits","Math","ceil","event","preventDefault","$1f0dc3b9307be026$var$perPage","$1f0dc3b9307be026$var$isInfinityLoad","$1f0dc3b9307be026$var$userInput","currentTarget","elements","searchQuery","trim","$1f0dc3b9307be026$var$page"],"version":3,"file":"index.9a3dc8a2.js.map"}