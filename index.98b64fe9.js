const e=new URLSearchParams({key:"32468715-2ee7d1cef437ed65ce73ff92a",image_type:"photo",orientation:"horizontal",safesearch:!0});async function t(t,n,o){try{const r=await fetch(`https://pixabay.com/api/?q=${t}&page=${n}&per_page=${o}&${e}`);return await r.json()}catch(e){return console.log("error :>> ",e)}}const n=document.querySelector(".js-images-info");function o(e,t,o){let r=`Page: ${e}/${t}. Total images: ${o}`;n.textContent=r}const r=document.querySelector(".js-gallery");function a(e){let t=e.reduce(((e,{webformatURL:t,largeImageURL:n,tags:o,likes:r,views:a,comments:c,downloads:s})=>e+`<div class="photo-card">\n      <a href="${n}">\n        <img \n          class="card-image" \n          src="${t}" \n          alt="${o}" \n          loading="lazy"\n        />\n      </a>\n    </div>\n    `),"");r.insertAdjacentHTML("beforeend",t)}const c=document.querySelector(".js-per-page-selector");function s(){return c.value}c.addEventListener("change",s);let i=0,l=0,u=0,d="";async function g(e){d!==e&&(d=e,i=0,r.innerHTML=""),function(){const e=s();0===u&&(u=e);e!==u&&(u=e)}();try{i+=1;const e=await t(d,i,u),{hits:n,total:r}=e;l=Math.ceil(r/u),l>1&&y(),o(i,l,r),a(n)}catch{console.log("error :>> ",error)}}const f=document.querySelector(".js-checkbox-pagination"),h=document.querySelector(".js-observer-target");f.addEventListener("change",y);const m=new IntersectionObserver((function(e,t){e.forEach((async e=>{e.isIntersecting&&d&&await g(d),l<=i&&t.unobserve(h)}))}),{root:null,rootMargin:"500px",threshold:1});function y(){f.checked?m.observe(h):m.unobserve(h)}document.querySelector("#search-form").addEventListener("submit",(async function(e){e.preventDefault();const t=e.currentTarget.elements.searchQuery.value.trim();await g(t)}));
//# sourceMappingURL=index.98b64fe9.js.map
