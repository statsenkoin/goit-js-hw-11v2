const e=new URLSearchParams({key:"32468715-2ee7d1cef437ed65ce73ff92a",image_type:"photo",orientation:"horizontal",safesearch:!0});async function t(t,n,r){try{const o=await fetch(`https://pixabay.com/api/?q=${t}&page=${n}&per_page=${r}&${e}`);return await o.json()}catch(e){return console.log("error :>> ",e)}}const n=document.querySelector(".js-images-info");function r(e,t,r){let o=`Page: ${e}/${t}. Total images: ${r}`;n.textContent=o}const o=document.querySelector(".js-gallery");function a(e){let t=e.reduce(((e,{webformatURL:t,largeImageURL:n,tags:r,likes:o,views:a,comments:c,downloads:s})=>e+`<div class="photo-card">\n      <a href="${n}">\n        <img \n          class="card-image" \n          src="${t}" \n          alt="${r}" \n          loading="lazy"\n        />\n      </a>\n    </div>\n    `),"");o.insertAdjacentHTML("beforeend",t)}const c=document.querySelector(".js-per-page-selector");function s(){return c.value}c.addEventListener("change",s);let i=0,l=0,u=0,d="";async function g(e){d!==e&&(d=e,i=0,o.innerHTML=""),u=s();try{i+=1;const e=await t(d,i,u),{hits:n,total:o}=e;l=Math.ceil(o/u),l>1&&y(),r(i,l,o),a(n)}catch{console.log("error :>> ",error)}}const h=document.querySelector(".js-checkbox-pagination"),m=document.querySelector(".js-observer-target");h.addEventListener("change",y);const f=new IntersectionObserver((function(e,t){e.forEach((async e=>{e.isIntersecting&&d&&await g(d),l<=i&&t.unobserve(m)}))}),{root:null,rootMargin:"500px",threshold:1});function y(){h.checked?f.observe(m):f.unobserve(m)}document.querySelector("#search-form").addEventListener("submit",(async function(e){e.preventDefault();const t=e.currentTarget.elements.searchQuery.value.trim();await g(t)}));
//# sourceMappingURL=index.30b745c2.js.map
